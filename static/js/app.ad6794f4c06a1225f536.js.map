{"version":3,"sources":["webpack:///static/js/app.ad6794f4c06a1225f536.js","webpack:///./src/utils.js","webpack:///./src/pages/Home.vue?e136","webpack:///./src/pages/Post.vue","webpack:///./src/pages/Post.vue?37e0","webpack:///./src/mixin.js","webpack:///src/App.vue","webpack:///src/pages/Home.vue","webpack:///src/pages/Post.vue","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?7c37","webpack:///./src/router.js","webpack:///./src/pages/Home.vue"],"names":["webpackJsonp","120","module","__webpack_exports__","__webpack_require__","handleBackButton","window","document","addEventListener","ev","onpopstate","event","navigator","app","exitApp","preventDefault","returnValue","d","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","n","121","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","handleMsgClick","_v","_s","msg","_e","_l","list","skeletonList","item","attrs","title","$event","go","name","params","id","staticRenderFns","esExports","122","injectStyle","ssrContext","normalizeComponent","__vue_styles__","Component","123","exports","124","loading","domProps","post","content","17","methods","debug","console","log","path","showLoading","$router","push","goHome","$root","$data","shared","hideLoading","computed","29","__WEBPACK_IMPORTED_MODULE_0__mixin_js__","mixins","share","isSupportWebShare","30","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2__mixin_js__","__WEBPACK_IMPORTED_MODULE_3_axios__","__WEBPACK_IMPORTED_MODULE_3_axios___default","__WEBPACK_IMPORTED_MODULE_4__utils__","data","listNew","getPostId","exec","url","getList","fetchCount","handleDiff","length","mounted","52","err","beforeRouteEnter","fetch","watch","value","setTimeout","querySelector","innerText","53","Vue","config","productionTip","el","router","template","components","App","56","57","59","$route","meta","keepAlive","_m","60","use","Router","component","Spinner","mode","scrollBehavior","to","from","savedPosition","scrollTo","x","y","routes","Home","Post","redirect","62","63"],"mappings":"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","file":"static/js/app.ad6794f4c06a1225f536.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 120:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export sleep */\n/* unused harmony export isMobile */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return handleBackButton; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n\nfunction sleep() {\n  var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n    return setTimeout(resolve, ms);\n  });\n}\n\nfunction isMobile() {\n  return (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)\n  );\n}\n\nfunction handleBackButton() {\n  // exit app when user press back button in pwa standalone mode\n  window.document.addEventListener('backbutton', function (ev) {\n    window.onpopstate = function (event) {\n      if ('app' in window.navigator) {\n        window.navigator.app.exitApp();\n      }\n    };\n    ev.preventDefault ? ev.preventDefault() : ev.returnValue = false;\n  });\n}\n\n\n\n/***/ }),\n\n/***/ 121:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-view\"},[(_vm.msg)?_c('div',{staticClass:\"msg\",on:{\"click\":_vm.handleMsgClick}},[_vm._v(_vm._s(_vm.msg))]):_vm._e(),_c('div',{staticClass:\"list\"},_vm._l((_vm.list || _vm.skeletonList),function(item){return _c('div',{staticClass:\"item\"},[(_vm.list)?_c('div',{staticClass:\"link\",attrs:{\"title\":item.title},on:{\"click\":function($event){return _vm.go({name: 'Post', params: { id: item.id }})}}},[_vm._v(_vm._s(item.title))]):_vm._e()])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 122:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Post_vue__ = __webpack_require__(52);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_24aba312_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Post_vue__ = __webpack_require__(124);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(123)\n}\nvar normalizeComponent = __webpack_require__(16)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Post_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_24aba312_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Post_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 123:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 124:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-view\"},[(!_vm.loading)?_c('div',[_c('div',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.post.title)}}),_c('section',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.post.content)}})]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 17:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  methods: {\n    debug: function debug(msg) {\n      console.log('debug', msg);\n    },\n    go: function go(path) {\n      // console.log(path)\n      if (path.name === 'Post') {\n        this.showLoading();\n      }\n      this.$router.push(path);\n    },\n    goHome: function goHome() {\n      this.$router.push({ path: '/' });\n    },\n    showLoading: function showLoading() {\n      this.$root.$data.shared.loading = true;\n    },\n    hideLoading: function hideLoading() {\n      this.$root.$data.shared.loading = false;\n    }\n  },\n  computed: {\n    loading: function loading() {\n      return this.$root.$data.shared.loading;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__mixin_js__ = __webpack_require__(17);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  mixins: [__WEBPACK_IMPORTED_MODULE_0__mixin_js__[\"a\" /* default */]],\n  name: 'app',\n  methods: {\n    share: function share() {\n      navigator.share({\n        title: window.document.title,\n        text: '',\n        url: window.location.href\n      }).then(function () {\n        return console.log('Successful share');\n      }).catch(function (error) {\n        return console.log('Error sharing', error);\n      });\n    }\n  },\n  computed: {\n    isSupportWebShare: function isSupportWebShare() {\n      return navigator.share;\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mixin_js__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios__ = __webpack_require__(101);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils__ = __webpack_require__(120);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n// axios.defaults.timeout = 1000 * 5\nvar fetchCount = 0;\nvar maxFetchTimes = 15;\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'List',\n  mixins: [__WEBPACK_IMPORTED_MODULE_2__mixin_js__[\"a\" /* default */]],\n  data: function data() {\n    return {\n      list: [],\n      listNew: [],\n      msg: ''\n    };\n  },\n\n  methods: {\n    getPostId: function getPostId(url) {\n      var re = /view\\/(\\w*)\\.htm/;\n      return re.exec(url)[1];\n    },\n    getList: function getList() {\n      var _this = this;\n\n      var timeoutMs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 5000;\n\n      fetchCount++;\n      return __WEBPACK_IMPORTED_MODULE_3_axios___default.a.get('/api/cnbeta', { timeout: timeoutMs }).then(function (res) {\n        _this.msg = null;\n        _this.hideLoading();\n        return res.data;\n      }).catch(function () {\n        var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(err) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  console.log('Fetch Error :-S', err);\n\n                  if (!/400|503/.test(err.status)) {\n                    _context.next = 5;\n                    break;\n                  }\n\n                  console.log('Looks like there was a problem. Status Code: ' + err.status);\n                  _this.msg = err.status + ': ' + err.message;\n                  return _context.abrupt('return');\n\n                case 5:\n                  if (!(fetchCount <= maxFetchTimes)) {\n                    _context.next = 12;\n                    break;\n                  }\n\n                  _this.msg = '\\u670D\\u52A1\\u5668\\u8FDE\\u63A5\\u8D85\\u65F6\\uFF0C\\u6B63\\u5728\\u91CD\\u8BD5(' + fetchCount + ')';\n                  _context.next = 9;\n                  return _this.getList(1500);\n\n                case 9:\n                  _this.list = _context.sent;\n                  _context.next = 14;\n                  break;\n\n                case 12:\n                  _this.msg = '服务器连接失败, 请稍后再访问';\n                  _this.hideLoading();\n\n                case 14:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this);\n        }));\n\n        return function (_x2) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    },\n    handleVisibilityChange: function handleVisibilityChange() {\n      var _this2 = this;\n\n      return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee2() {\n        var listRes, isDiff;\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (document.hidden) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 3;\n                return _this2.getList();\n\n              case 3:\n                listRes = _context2.sent;\n\n                if (!(!listRes || !listRes.length)) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 6:\n                _this2.listNew = listRes;\n                isDiff = _this2.list[0].id !== _this2.listNew[0].id;\n\n                if (true) {\n                  _this2.handleDiff();\n                }\n\n              case 9:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    },\n    handleMsgClick: function handleMsgClick() {},\n    handleDiff: function handleDiff() {\n      var _this3 = this;\n\n      this.msg = '有新内容，点击或下拉刷新';\n      this.handleMsgClick = function () {\n        _this3.list = _this3.listNew;\n        _this3.msg = '';\n        _this3.$nextTick(function () {\n          return window.scrollTo(0, 0);\n        });\n      };\n    }\n  },\n  computed: {\n    skeletonList: function skeletonList() {\n      var list = [];\n      list.length = 25;\n      return list;\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee3() {\n      return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(_this4.$route.name !== 'Post')) {\n                _context3.next = 4;\n                break;\n              }\n\n              _context3.next = 3;\n              return _this4.getList();\n\n            case 3:\n              _this4.list = _context3.sent;\n\n            case 4:\n\n              Object(__WEBPACK_IMPORTED_MODULE_4__utils__[\"a\" /* handleBackButton */])();\n              document.addEventListener('visibilitychange', _this4.handleVisibilityChange, false);\n\n            case 6:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, _this4);\n    }))();\n  },\n  mounted: function mounted() {}\n});\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(31);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mixin_js__ = __webpack_require__(17);\n\n\n//\n//\n//\n//\n//\n//\n//\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'Post',\n  mixins: [__WEBPACK_IMPORTED_MODULE_2__mixin_js__[\"a\" /* default */]],\n  data: function data() {\n    return {\n      post: null,\n      err: null\n    };\n  },\n\n  methods: {},\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    var _this = this;\n\n    fetch('/api/cnbeta/' + to.params.id).then(function (res) {\n      if (res.status !== 200) {\n        console.log('Looks like there was a problem. Status Code: ' + res.status);\n        return;\n      }\n\n      next(function () {\n        var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()( /*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(vm) {\n          return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return res.json();\n\n                case 2:\n                  vm.post = _context.sent;\n\n                  vm.hideLoading();\n\n                case 4:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, _this);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    });\n  },\n\n  watch: {\n    loading: function loading(value) {\n      if (!value) {\n        setTimeout(function () {\n          document.title = document.querySelector('.post-view .title').innerText;\n        }, 0);\n      }\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 53:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__router__ = __webpack_require__(60);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nvar shared = {\n  loading: true\n\n  /* eslint-disable no-new */\n};new __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  data: {\n    shared: shared\n  },\n  router: __WEBPACK_IMPORTED_MODULE_2__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ 56:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(29);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72fe151a_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(59);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(57)\n}\nvar normalizeComponent = __webpack_require__(16)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_72fe151a_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 57:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 59:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',[_c('div',{staticClass:\"left\"},[(_vm.$route.name === 'Home')?_c('div',{staticClass:\"title link\",on:{\"click\":function($event){return _vm.go({path: '/'})}}},[_vm._v(\"Cnbeta\"),_c('span',{staticClass:\"sub\"},[_vm._v(\"Lite\")])]):_c('div',{staticClass:\"link\",on:{\"click\":_vm.goHome}},[_vm._v(\"返回\")])]),_c('div',{staticClass:\"right\"},[(_vm.isSupportWebShare && !_vm.loading)?_c('div',{staticClass:\"link\",on:{\"click\":_vm.share}},[_vm._v(\"分享\")]):_vm._e()]),(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('spinner',{attrs:{\"line-fg-color\":\"#32669a\"}})],1):_vm._e()]),_c('div',{staticClass:\"main\"},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1),(!_vm.$route.meta.keepAlive)?_c('transition',{attrs:{\"name\":\"fade\"}},[_c('router-view')],1):_vm._e()],1),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('a',{attrs:{\"href\":\"https://github.com/cyio/cnbeta-pwa\",\"target\":\"_blank\"}},[_vm._v(\"cyio/cnbeta-pwa\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_Home__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pages_Post__ = __webpack_require__(122);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_simple_spinner__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vue_simple_spinner___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_vue_simple_spinner__);\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].component('Spinner', __WEBPACK_IMPORTED_MODULE_4_vue_simple_spinner___default.a);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  mode: 'history',\n  scrollBehavior: function scrollBehavior(to, from, savedPosition) {\n    // console.log('scroll', to.path, from.path, savedPosition)\n    if (savedPosition) {\n      setTimeout(function () {\n        window.scrollTo(savedPosition.x, savedPosition.y);\n        // console.log('top', window.document.body.scrollTop)\n        // return savedPosition\n      }, 200);\n    } else {\n      if (to.name === 'Post') {\n        return { x: 0, y: 0 };\n      }\n    }\n  },\n\n  routes: [{\n    path: '/',\n    name: 'Home',\n    component: __WEBPACK_IMPORTED_MODULE_2__pages_Home__[\"a\" /* default */],\n    meta: { keepAlive: true }\n  }, {\n    path: '/post/:id',\n    name: 'Post',\n    component: __WEBPACK_IMPORTED_MODULE_3__pages_Post__[\"a\" /* default */]\n  }, { path: '*', redirect: '/' }]\n}));\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Home_vue__ = __webpack_require__(30);\n/* unused harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5189ff74_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Home_vue__ = __webpack_require__(121);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(63)\n}\nvar normalizeComponent = __webpack_require__(16)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Home_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_5189ff74_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Home_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[53]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.ad6794f4c06a1225f536.js","function sleep (ms = 0) {\n  return new Promise((resolve, reject) => setTimeout(resolve, ms))\n}\n\nfunction isMobile () {\n  return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(window.navigator.userAgent)\n}\n\nfunction handleBackButton () {\n  // exit app when user press back button in pwa standalone mode\n  window.document.addEventListener('backbutton', function (ev) {\n    window.onpopstate = function (event) {\n      if ('app' in window.navigator) {\n        window.navigator.app.exitApp()\n      }\n    }\n    ev.preventDefault ? ev.preventDefault() : (ev.returnValue = false)\n  })\n}\n\nexport {\n  sleep,\n  isMobile,\n  handleBackButton\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-view\"},[(_vm.msg)?_c('div',{staticClass:\"msg\",on:{\"click\":_vm.handleMsgClick}},[_vm._v(_vm._s(_vm.msg))]):_vm._e(),_c('div',{staticClass:\"list\"},_vm._l((_vm.list || _vm.skeletonList),function(item){return _c('div',{staticClass:\"item\"},[(_vm.list)?_c('div',{staticClass:\"link\",attrs:{\"title\":item.title},on:{\"click\":function($event){return _vm.go({name: 'Post', params: { id: item.id }})}}},[_vm._v(_vm._s(item.title))]):_vm._e()])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5189ff74\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home.vue\n// module id = 121\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-24aba312\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Post.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Post.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Post.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-24aba312\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Post.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Post.vue\n// module id = 122\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-view\"},[(!_vm.loading)?_c('div',[_c('div',{staticClass:\"title\",domProps:{\"innerHTML\":_vm._s(_vm.post.title)}}),_c('section',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.post.content)}})]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-24aba312\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Post.vue\n// module id = 124\n// module chunks = 1","export default {\n  methods: {\n    debug (msg) {\n      console.log('debug', msg)\n    },\n    go (path) {\n      // console.log(path)\n      if (path.name === 'Post') {\n        this.showLoading()\n      }\n      this.$router.push(path)\n    },\n    goHome () {\n      this.$router.push({ path: '/' })\n    },\n    showLoading () {\n      this.$root.$data.shared.loading = true\n    },\n    hideLoading () {\n      this.$root.$data.shared.loading = false\n    }\n  },\n  computed: {\n    loading () {\n      return this.$root.$data.shared.loading\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mixin.js","<template lang=\"pug\">\n#app\n  header\n    .left\n      .title.link(v-if=\"$route.name === 'Home'\", @click=\"go({path: '/'})\")\n        | Cnbeta\n        span.sub Lite\n      .link(v-else='', @click='goHome') 返回\n    .right\n      .link(v-if=\"isSupportWebShare && !loading\", @click='share') 分享\n    .loading(v-if='loading')\n      spinner(line-fg-color='#32669a')\n  .main\n    keep-alive\n      router-view(v-if='$route.meta.keepAlive')\n    transition(name='fade', v-if='!$route.meta.keepAlive')\n      router-view\n  footer\n    a(href='https://github.com/cyio/cnbeta-pwa', target='_blank') cyio/cnbeta-pwa\n</template>\n\n<script>\nimport mixin from '@/mixin.js'\nexport default {\n  mixins: [mixin],\n  name: 'app',\n  methods: {\n    share () {\n      navigator\n        .share({\n          title: window.document.title,\n          text: '',\n          url: window.location.href\n        })\n        .then(() => console.log('Successful share'))\n        .catch((error) => console.log('Error sharing', error))\n    }\n  },\n  computed: {\n    isSupportWebShare () {\n      return navigator.share\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\na {\n\t-webkit-tap-highlight-color: rgba(0, 0, 0, 0); \n\ttext-decoration-line: none;\n}\n\ninput,textarea{\n\toutline:0;\n\t-webkit-tap-highlight-color:transparent;\n\t-webkit-user-modify:read-write-plaintext-only\n}\n\nul {\n\tlist-style: none;\n\tpadding: 0;\n}\n\n:root {\n\t--theme: #32669a;\n\t--headerHeight: 3rem;\n}\n\nbody {\n  margin: 0;\n}\n\n#app {\n  min-height: 100%;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  grid-template-columns: 100%;\n  // font-size: .9rem;\n  padding-top: 3rem;\n  background: #c5c0c0;\n}\n\n.main {\n\t// margin-top: .3rem;\n  border: 1px solid #efefef;\n  min-height: 500px;\n  background: #fff;\n}\n\nheader {\n  z-index: 1000;\n  background-color: #fff;\n  color: var(--theme);\n  // box-shadow: 0 0 4px #657786;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 1.5rem;\n  height: 3rem;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  border: 1px solid #d0d0d0;\n}\n\nheader .title {\n  font-size: 2rem;\n}\n\nheader .title .sub {\n  color: #eee;\n}\n\nfooter {\n  text-align: center;\n  padding: 15px 0 10px;\n  color: #ccc;\n\t// border-bottom: .1rem solid var(--theme);\n}\n\nfooter a {\n  color: #bbb6b6;\n}\n\nimg, embed, iframe {\n  max-width: 100%;\n}\n\n.expand-enter-active, .expand-leave-active {\n  transition: all .3s ease;  /*padding: 10px;*/\n  overflow: hidden;\n}\n.expand-enter, .expand-leave-active {\n  height: 0;\n  padding: 0 5px;\n  opacity: 0;\n}\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .3s ease;\n}\n.fade-enter, .fade-leave-active {\n  opacity: 0;\n}\n\n@media only screen and (min-width: 900px) {\n  #app .main,\n  #app header {\n    width: 750px;\n    margin-left: 150px;\n  }\n}\n\n.link {\n\tposition: relative;\n\tcursor: pointer;\n  -webkit-user-select: none;\n}\n.link:before {\n\tcontent: '';\n\tbackground-color: aliceblue;\n\tborder-radius: 50%;\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\tleft: 0;\n  transform: scale(0.001, 0.001);\n}\n.link:focus {\n\toutline: 0;\n\tcolor: #fff;\n}\n.link:focus:before {\n  animation: effect_dylan 0.8s ease-out;\n}\n@keyframes effect_dylan {\n\t50% {\n    transform: scale(1.5, 1.5);\n\t\topacity: 0;\n\t}\n\t99% {\n    transform: scale(0.001, 0.001);\n\t\topacity: 0;\n\t}\n\t100% {\n    transform: scale(0.001, 0.001);\n\t\topacity: 1;\n\t}\n}\n.loading {\n  // margin-top: 50%;\n  text-align: center;\n  line-height: 2.5rem;\n  position: absolute;\n  top: .5rem;\n  right: 1rem;\n  z-index: 9999;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template lang=\"pug\">\n.home-view\n  .msg(v-if='msg' @click=\"handleMsgClick\") {{msg}}\n  .list\n    .item(v-for='item in list || skeletonList')\n      .link(@click=\"go({name: 'Post', params: { id: item.id }})\", :title='item.title', v-if='list') {{item.title}}\n</template>\n\n<script>\nimport mixin from '@/mixin.js'\nimport axios from 'axios'\nimport { handleBackButton } from '../utils'\n// axios.defaults.timeout = 1000 * 5\nlet fetchCount = 0\nconst maxFetchTimes = 15\nexport default {\n  name: 'List',\n  mixins: [mixin],\n  data () {\n    return {\n      list: [],\n      listNew: [],\n      msg: ''\n    }\n  },\n  methods: {\n    getPostId (url) {\n      const re = /view\\/(\\w*)\\.htm/\n      return re.exec(url)[1]\n    },\n    getList (timeoutMs = 5000) {\n      fetchCount++\n      return axios.get('/api/cnbeta', { timeout: timeoutMs })\n        .then(res => {\n          this.msg = null\n          this.hideLoading()\n          return res.data\n        })\n        .catch(async err => {\n          console.log('Fetch Error :-S', err)\n          if (/400|503/.test(err.status)) {\n            console.log('Looks like there was a problem. Status Code: ' + err.status)\n            this.msg = `${err.status}: ${err.message}`\n            return\n          }\n\n          if (fetchCount <= maxFetchTimes) {\n            this.msg = `服务器连接超时，正在重试(${fetchCount})`\n            this.list = await this.getList(1500)\n          } else {\n            this.msg = '服务器连接失败, 请稍后再访问'\n            this.hideLoading()\n          }\n        })\n    },\n    async handleVisibilityChange () {\n      if (!document.hidden) {\n        const listRes = await this.getList()\n        if (!listRes || !listRes.length) return\n        this.listNew = listRes\n        const isDiff = this.list[0].id !== this.listNew[0].id\n        if (1 || isDiff) {\n          this.handleDiff()\n        }\n      }\n    },\n    handleMsgClick () {\n    },\n    handleDiff () {\n      this.msg = '有新内容，点击或下拉刷新'\n      this.handleMsgClick = () => {\n        this.list = this.listNew\n        this.msg = ''\n        this.$nextTick(() => window.scrollTo(0, 0))\n      }\n    }\n  },\n  computed: {\n    skeletonList () {\n      const list = []\n      list.length = 25\n      return list\n    }\n  },\n  async created () {\n    if (this.$route.name !== 'Post') {\n      this.list = await this.getList()\n    }\n\n    handleBackButton()\n    document.addEventListener('visibilitychange', this.handleVisibilityChange, false)\n  },\n  mounted () {\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.list .item {\n  position: relative;\n\theight: 2.5rem;\n\tline-height: 2.5rem;\n  padding: 0 .8rem;\n}\n.list .item .link {\n  color: #333;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  text-decoration: none;\n}\n.list .item .link:visited {\n  color: #9a9a9a;\n}\n.list .link .placeholder {\n  background: red;\n  width: 100%;\n}\n.list .item:nth-child(2n+1) {\n  background-color: #F5F5F5;\n}\n.home-view .msg {\n  text-align: center;\n  padding: 5px 10px;\n  // background: aliceblue;\n  background: #e6e620;\n  z-index: 1;\n  position: fixed;\n  top: 48px;\n  left: 50%;\n  transform: translateX(-50%);\n  border: 1px solid #d4b418;\n  width: 70%;\n  opacity: .9;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Home.vue","<template lang=\"pug\">\n.post-view\n  div(v-if='!loading')\n    .title(v-html='post.title')\n    section.content(v-html='post.content')\n</template>\n\n<script>\nimport mixin from '@/mixin.js'\nexport default {\n  name: 'Post',\n  mixins: [mixin],\n  data () {\n    return {\n      post: null,\n      err: null\n    }\n  },\n  methods: {\n  },\n  beforeRouteEnter (to, from, next) {\n    fetch(`/api/cnbeta/${to.params.id}`)\n      .then(res => {\n        if (res.status !== 200) {\n          console.log('Looks like there was a problem. Status Code: ' + res.status)\n          return\n        }\n\n        next(async vm => {\n          vm.post = await res.json()\n          vm.hideLoading()\n        })\n      })\n  },\n  watch: {\n    loading (value) {\n      if (!value) {\n        setTimeout(() => {\n          document.title = document.querySelector('.post-view .title').innerText\n        }, 0)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.post-view {\n  padding: .8rem;\n}\n\n.post-view .content {\n  padding-top: .8rem;\n}\n\n.post-view .title {\n  font-size: 1.3rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Post.vue","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\nconst shared = {\n  loading: true\n}\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  data: {\n    shared\n  },\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72fe151a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72fe151a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 56\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('header',[_c('div',{staticClass:\"left\"},[(_vm.$route.name === 'Home')?_c('div',{staticClass:\"title link\",on:{\"click\":function($event){return _vm.go({path: '/'})}}},[_vm._v(\"Cnbeta\"),_c('span',{staticClass:\"sub\"},[_vm._v(\"Lite\")])]):_c('div',{staticClass:\"link\",on:{\"click\":_vm.goHome}},[_vm._v(\"返回\")])]),_c('div',{staticClass:\"right\"},[(_vm.isSupportWebShare && !_vm.loading)?_c('div',{staticClass:\"link\",on:{\"click\":_vm.share}},[_vm._v(\"分享\")]):_vm._e()]),(_vm.loading)?_c('div',{staticClass:\"loading\"},[_c('spinner',{attrs:{\"line-fg-color\":\"#32669a\"}})],1):_vm._e()]),_c('div',{staticClass:\"main\"},[_c('keep-alive',[(_vm.$route.meta.keepAlive)?_c('router-view'):_vm._e()],1),(!_vm.$route.meta.keepAlive)?_c('transition',{attrs:{\"name\":\"fade\"}},[_c('router-view')],1):_vm._e()],1),_vm._m(0)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('a',{attrs:{\"href\":\"https://github.com/cyio/cnbeta-pwa\",\"target\":\"_blank\"}},[_vm._v(\"cyio/cnbeta-pwa\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72fe151a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 59\n// module chunks = 1","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from '@/pages/Home'\nimport Post from '@/pages/Post'\nimport Spinner from 'vue-simple-spinner'\n\nVue.use(Router)\nVue.component('Spinner', Spinner)\n\nexport default new Router({\n  mode: 'history',\n  scrollBehavior (to, from, savedPosition) {\n    // console.log('scroll', to.path, from.path, savedPosition)\n    if (savedPosition) {\n      setTimeout(() => {\n        window.scrollTo(savedPosition.x, savedPosition.y)\n        // console.log('top', window.document.body.scrollTop)\n        // return savedPosition\n      }, 200)\n    } else {\n      if (to.name === 'Post') {\n        return { x: 0, y: 0 }\n      }\n    }\n  },\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Home,\n      meta: { keepAlive: true }\n    },\n    {\n      path: '/post/:id',\n      name: 'Post',\n      component: Post\n    },\n    { path: '*', redirect: '/' }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5189ff74\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5189ff74\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home.vue\n// module id = 62\n// module chunks = 1"],"sourceRoot":""}